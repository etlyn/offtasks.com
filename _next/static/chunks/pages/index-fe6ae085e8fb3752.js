(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2109)}])},2109:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var i=n(5893),r=n(7294),a=n(7568),o=n(655),s=n(4014),l=n(1407),c=n(9764),d=n(1791);function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}var x=function(){var e=function(){var e=(0,a.Z)((function(){var e,t;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,c._m.auth.signOut()];case 1:return n.sent(),[3,3];case 2:return e=n.sent(),t=e.message,console.log("Error when logout",t),[3,3];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,i.jsxs)(s.v,{as:"div",className:"relative inline-block text-left",children:[(0,i.jsx)("div",{children:(0,i.jsx)(s.v.Button,{children:(0,i.jsx)(d.R0,{})})}),(0,i.jsx)(l.u,{as:r.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,i.jsx)(s.v.Items,{className:"absolute right-0 z-10 mt-2 w-24 pl-2 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:(0,i.jsx)("div",{className:"py-1",children:(0,i.jsx)("form",{method:"POST",children:(0,i.jsx)(s.v.Item,{children:function(t){var n=t.active;return(0,i.jsx)("button",{type:"submit",className:u(n?"bg-gray-100 text-gray-900":"text-gray-700","block w-full px-4 py-2 text-left text-sm"),onClick:e,children:"Log out"})}})})})})})]})},h=n(2723),f=n(1163),m=n(2010),p=function(){var e=(0,r.useState)(!1),t=e[0],n=e[1],a=(0,m.F)(),o=a.theme,s=a.setTheme,l=a.resolvedTheme;return(0,r.useEffect)((function(){n(!0)}),[]),(0,i.jsx)("button",{"aria-label":"Toggle Dark Mode",type:"button",className:"mb-1 mr-6",onClick:function(){return s("dark"===o||"dark"===l?"light":"dark")},children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:"".concat("dark"===o?"text-zinc-50":"text-zinc-900"),children:!t||"dark"!==o&&"dark"!==l?(0,i.jsx)("path",{d:"M21.752 15.002C20.5633 15.4975 19.2879 15.7518 18 15.75C12.615 15.75 8.25 11.385 8.25 6.00005C8.25 4.67005 8.516 3.40305 8.998 2.24805C7.22147 2.98916 5.70397 4.2394 4.63663 5.8413C3.56928 7.44321 2.99984 9.32513 3 11.25C3 16.635 7.365 21 12.75 21C14.6749 21.0002 16.5568 20.4308 18.1587 19.3634C19.7606 18.2961 21.0109 16.7786 21.752 15.002Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("g",{clipPath:"url(#clip0_461_7572)",children:(0,i.jsx)("path",{d:"M12 1.5V4.125M19.4247 4.57533L17.5685 6.4315M22.5 12H19.875M19.4247 19.4247L17.5685 17.5685M12 19.875V22.5M6.4315 17.5685L4.57533 19.4247M4.125 12H1.5M6.4315 6.4315L4.57533 4.57533M16.375 12C16.375 13.1603 15.9141 14.2731 15.0936 15.0936C14.2731 15.9141 13.1603 16.375 12 16.375C10.8397 16.375 9.72688 15.9141 8.90641 15.0936C8.08594 14.2731 7.625 13.1603 7.625 12C7.625 10.8397 8.08594 9.72688 8.90641 8.90641C9.72688 8.08594 10.8397 7.625 12 7.625C13.1603 7.625 14.2731 8.08594 15.0936 8.90641C15.9141 9.72688 16.375 10.8397 16.375 12Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_461_7572",children:(0,i.jsx)("rect",{width:"24",height:"24",fill:"white"})})})]})})})},v=function(){var e=(0,r.useContext)(h.a).appState,t=(0,f.useRouter)(),n=(0,m.F)().theme;return(0,i.jsxs)("div",{className:"".concat("dark"===n?"bg-zinc-800 border-zinc-50":"bg-slate-50 border-zinc-900"," pt-4 pb-2 px-6 md:px-24 flex justify-between border-b border-opacity-10"),children:[(0,i.jsx)("button",{onClick:function(){t.push("/")},children:(0,i.jsx)(d.TR,{})}),(0,i.jsxs)("div",{className:"ml-8 ".concat("dark"===n?"text-zinc-50":"text-zinc-900"," flex flex-row -mt-1 items-center"),children:[(0,i.jsx)(d.WC,{}),(0,i.jsxs)("h1",{className:"mx-2",children:[null===e||void 0===e?void 0:e.completedTasks," of ",null===e||void 0===e?void 0:e.totalTasks]})]}),(0,i.jsxs)("div",{className:"flex justify-center items-center ".concat("dark"===n?"text-zinc-50":"text-zinc-900"," flex flex-row -mt-1 items-center"),children:[(0,i.jsx)(p,{}),(0,i.jsx)(x,{})]})]})},g=n(649),b=function(e){var t=e.task,n=e.openHandler,a=(0,m.F)().theme,o=(0,g.Y)().yesterday,s=(0,r.useContext)(h.a).appState;return(0,i.jsxs)("div",{className:"flex w-full flex-1 items-start gap-2",children:[(0,i.jsx)("button",{className:"mt-0.5 flex h-6 w-6 shrink-0 items-center justify-center ".concat(t.isComplete?"dark"===a?"bg-cyan-600 text-zinc-900":"bg-sky-500 text-white":"dark"===a?"border border-zinc-600 bg-transparent":"border border-zinc-300 bg-white"," transition"),onClick:function(){var e,n,i=null!==(n=t.target_group)&&void 0!==n?n:"today";(0,c.xJ)(t.id,t.content,!t.isComplete,t.priority,i,t.date),null===s||void 0===s||null===(e=s.refreshTasks)||void 0===e||e.call(s)},"aria-label":t.isComplete?"Mark as active":"Mark as complete",children:t.isComplete?(0,i.jsx)(d.nQ,{}):null}),(0,i.jsx)("button",{onClick:function(){return n(t)},className:"flex-1 text-left text-base font-normal leading-snug ".concat("dark"===a?"text-zinc-50":"text-zinc-900"," ").concat(t.isComplete?"line-through opacity-50":""," ").concat(t.date<o&&!t.isComplete?"text-red-400":""),children:t.content})]})},j=function(e){var t=e.label1,n=e.label2,r=e.label3,a=e.onClick1,o=void 0===a?function(){}:a,s=e.onClick2,l=void 0===s?function(){}:s,c=e.onClick3,d=void 0===c?function(){}:c,u=e.isLabel1Active,x=e.isLabel2Active,h=e.isLabel3Active,f=(0,m.F)().theme;return(0,i.jsxs)("div",{className:"flex rounded-lg p-1 ".concat("dark"===f?"bg-zinc-700":"bg-zinc-200"),children:[(0,i.jsx)("button",{onClick:function(){return o()},className:"flex flex-1 items-center justify-center rounded-md px-4 py-2 text-sm font-medium transition ".concat(u?"dark"===f?"bg-white text-zinc-900":"bg-zinc-600 text-white":"dark"===f?"text-zinc-300 hover:text-white":"text-zinc-700 hover:text-zinc-900"),children:t}),(0,i.jsx)("button",{onClick:function(){return l()},className:"flex flex-1 items-center justify-center rounded-md px-4 py-2 text-sm font-medium transition ".concat(x?"dark"===f?"bg-white text-zinc-900":"bg-zinc-600 text-white":"dark"===f?"text-zinc-300 hover:text-white":"text-zinc-700 hover:text-zinc-900"),children:n}),(0,i.jsx)("button",{onClick:function(){return d()},className:"flex flex-1 items-center justify-center rounded-md px-4 py-2 text-sm font-medium transition ".concat(h?"dark"===f?"bg-white text-zinc-900":"bg-zinc-600 text-white":"dark"===f?"text-zinc-300 hover:text-white":"text-zinc-700 hover:text-zinc-900"),children:r})]})},k=function(e){var t,n,s=e.closeModal,l=e.initialRef,u=e.task,x=e.selectedGroup,f=(0,m.F)().theme,p=(0,r.useState)(""),v=p[0],g=p[1],b=(0,r.useState)(x),k=b[0],y=b[1],w=(0,r.useContext)(h.a).appState;(0,r.useEffect)((function(){if(u){var e,t;g(u.content);var n="close"===u.target_group?"today":null!==(t=null!==(e=u.target_group)&&void 0!==e?e:x)&&void 0!==t?t:"today";y(n)}else g(""),y(null!==x&&void 0!==x?x:"today")}),[u,x]);var C=function(){var e=(0,a.Z)((function(){var e;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return 0===(null===v||void 0===v?void 0:v.length)?(N(),[2]):u?[4,(0,c.xJ)(u.id,v,u.isComplete,u.priority,k,u.date)]:[3,2];case 1:return t.sent(),[3,4];case 2:return[4,(0,c.vr)(v,k)];case 3:t.sent(),t.label=4;case 4:return null===w||void 0===w||null===(e=w.refreshTasks)||void 0===e||e.call(w),N(),[2]}}))}));return function(){return e.apply(this,arguments)}}(),z=function(){var e=(0,a.Z)((function(e){var t;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return e?[4,(0,c._5)(e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return null===w||void 0===w||null===(t=w.refreshTasks)||void 0===t||t.call(w),N(),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),N=function(){g(""),s()};return(0,i.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-zinc-900/50 px-4 backdrop-blur-sm",onKeyDown:function(e){"Escape"===e.key&&(e.preventDefault(),N()),"Enter"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),C())},role:"dialog","aria-modal":"true",children:[(0,i.jsx)("div",{className:"absolute inset-0",onClick:N,"aria-hidden":"true"}),(0,i.jsxs)("div",{className:"relative z-10 flex w-full max-w-xl flex-col gap-5 rounded-2xl p-8 shadow-2xl ".concat("dark"===f?"bg-zinc-800 text-zinc-50":"bg-white text-zinc-900"),children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("h1",{className:"text-base font-semibold",children:"Task"}),(0,i.jsx)("button",{className:"transition ".concat("dark"===f?"text-zinc-400 hover:text-zinc-200":"text-zinc-500 hover:text-zinc-900"),onClick:N,"aria-label":"Close",children:(0,i.jsx)(d.Tw,{})})]}),(0,i.jsx)("textarea",{ref:l,placeholder:"Defines what is already done. This is only happening with Theo Nius.",className:"min-h-[140px] w-full resize-none rounded-lg px-4 py-3 text-base font-normal leading-snug outline-none transition ".concat("dark"===f?"bg-zinc-700 text-zinc-50 placeholder:text-zinc-400":"bg-zinc-100 text-zinc-900 placeholder:text-zinc-400"),onChange:function(e){return g(e.target.value)},value:v,autoFocus:!0}),(0,i.jsx)("div",{children:(0,i.jsx)(j,{label1:"Today",label2:"Tomorrow",label3:"Upcoming",onClick1:function(){return y("today")},onClick2:function(){return y("tomorrow")},onClick3:function(){return y("upcoming")},isLabel1Active:"today"===k,isLabel2Active:"tomorrow"===k,isLabel3Active:"upcoming"===k})}),(0,i.jsxs)("div",{className:"flex flex-row justify-between gap-3",children:[(0,i.jsx)("button",{className:"flex items-center justify-center gap-2 rounded-lg border px-6 py-2.5 text-sm font-medium transition ".concat(u?"border-red-500 text-red-500 hover:bg-red-500 hover:text-white":"cursor-not-allowed opacity-40"),type:"button",onClick:function(){z(null===u||void 0===u?void 0:u.id)},disabled:!u,children:(0,i.jsx)("span",{children:"Delete"})}),(0,i.jsx)("button",{className:"flex items-center justify-center gap-2 rounded-lg px-8 py-2.5 text-sm font-medium text-white transition ".concat((null===(t=null===v||void 0===v?void 0:v.trim())||void 0===t?void 0:t.length)?"dark"===f?"bg-cyan-600 hover:bg-cyan-700":"bg-sky-500 hover:bg-sky-600":"cursor-not-allowed opacity-40"),type:"button",onClick:C,disabled:!(null===(n=null===v||void 0===v?void 0:v.trim())||void 0===n?void 0:n.length),children:(0,i.jsx)("span",{children:u?"Update":"Save"})})]})]})]})},y=function(){return(0,i.jsx)("div",{className:"py-6 border-t border-zinc-400 border-opacity-50 flex md:justify-start justify-center md:mt-8 mt-24 mx-6 md:mx-24 ",children:(0,i.jsx)("h1",{className:"text-zinc-400 text-sm md:text-base font-extralight",children:"\xa9 2023 offtasks.com"})})},w=function(e){var t=e.headline,n=e.onClickAdd,r=e.progressData,a=e.showCounter,o=e.showAddButton,s=void 0===o||o,l=(0,m.F)().theme;return(0,i.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex flex-row text-base font-semibold ".concat("dark"===l?"text-zinc-50":"text-zinc-900"),children:[(0,i.jsx)("h1",{children:t}),a?(0,i.jsxs)("h1",{className:"font-normal",children:["\xa0- ",r.completedTasks," of ",r.allTasks]}):(0,i.jsxs)("h1",{className:"font-normal",children:["\xa0- ",r.allTasks]})]}),s&&(0,i.jsxs)("button",{className:"flex flex-row items-center gap-2 text-sm font-semibold transition ".concat("dark"===l?"text-cyan-600 hover:text-cyan-500":"text-sky-500 hover:text-sky-600"),onClick:function(){return n(null)},children:[(0,i.jsx)(d.dt,{}),(0,i.jsx)("span",{children:"Add Task"})]})]})},C=n(1799),z=n(9396),N=n(603),T=n(5948),_=function(e){var t=e.headline,n=e.data,a=e.openModal,o=e.statusHandler,s=e.showCounter,l=e.allowAdd,d=void 0===l||l,u=e.droppableId,x=e.emptyMessage,f=void 0===x?"You're all caught up.":x,m=(0,r.useContext)(h.a).appState,p=null===n||void 0===n?void 0:n.filter((function(e){return!0===e.isComplete})).length,v=null===n||void 0===n?void 0:n.length,g=function(e,t,n){var i=Array.from(e),r=(0,N.Z)(i.splice(t,1),1)[0];return i.splice(n,0,r),i};return(0,i.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,i.jsx)("div",{className:"mb-6",children:(0,i.jsx)(w,{headline:t,onClickAdd:a,progressData:{completedTasks:p,allTasks:v},showCounter:s,showAddButton:d})}),(0,i.jsx)("div",{className:"flex flex-col gap-4",children:(0,i.jsx)(T.Z5,{onDragEnd:function(e){var t;e.destination&&(g(n,e.source.index,e.destination.index).forEach((function(e,t){var n,i=null!==(n=e.target_group)&&void 0!==n?n:"today";(0,c.xJ)(e.id,e.content,e.isComplete,t,i,e.date)})),null===m||void 0===m||null===(t=m.refreshTasks)||void 0===t||t.call(m))},children:(0,i.jsx)(T.bK,{droppableId:null!==u&&void 0!==u?u:t,children:function(e){return(0,i.jsxs)("div",(0,z.Z)((0,C.Z)({},e.droppableProps),{ref:e.innerRef,className:"flex flex-col gap-4",children:[(null===n||void 0===n?void 0:n.length)?n.map((function(e,t){return(0,i.jsx)(T._l,{draggableId:e.id.toString(),index:t,children:function(t){return(0,i.jsx)("div",(0,z.Z)((0,C.Z)({ref:t.innerRef},t.draggableProps,t.dragHandleProps),{className:"flex flex-row items-start gap-3",children:(0,i.jsx)(b,{task:e,openHandler:a,statusHandler:o})}))}},e.id)})):(0,i.jsx)("p",{className:"text-sm text-zinc-400 dark:text-zinc-500",children:f}),e.placeholder]}))}})})})]})},M=n(9008),L=n.n(M),A=function(e){var t=e.children,n=e.title;return(0,i.jsxs)("div",{className:"flex min-h-screen w-full flex-col",children:[(0,i.jsxs)(L(),{children:[(0,i.jsx)("title",{children:n}),(0,i.jsx)("meta",{charSet:"utf-8"}),(0,i.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,i.jsx)("div",{className:"w-full pb-4",children:(0,i.jsx)(v,{})}),(0,i.jsx)("main",{className:"flex-grow",children:t}),(0,i.jsx)("div",{className:"w-full",children:(0,i.jsx)(y,{})})]})},E=function(){var e=(0,r.useContext)(h.a).appState,t=(0,r.useRef)(),n=(0,r.useState)(null),a=n[0],o=n[1],s=(0,r.useState)(!1),l=s[0],c=s[1],d=(0,r.useState)("today"),u=d[0],x=d[1],f=(0,m.F)().theme,p=function(){c(!1)},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"today";o(e),c(!0),x(t)},g=function(e){return"+"===e.key&&(e.preventDefault(),v(null)),"Escape"===e.key&&p(),e};return(0,r.useEffect)((function(){"undefined"!==typeof document&&document.addEventListener("keydown",g)}),[]),(0,i.jsxs)(i.Fragment,{children:[l&&(0,i.jsx)(k,{selectedGroup:u,closeModal:p,initialRef:t,task:a}),(0,i.jsx)("div",{className:"min-h-screen w-full transition ".concat("dark"===f?"bg-zinc-900":"bg-zinc-50"),children:(0,i.jsx)(A,{title:"Tasks",children:(0,i.jsxs)("div",{className:"mx-auto flex w-full max-w-7xl gap-8 px-20 py-8",children:[(0,i.jsx)(_,{headline:"Today",data:null===e||void 0===e?void 0:e.todayTasks,openModal:v,showCounter:!0,droppableId:"today",emptyMessage:"No tasks for today yet. Add one to get started."}),(0,i.jsx)(_,{headline:"Tomorrow",data:null===e||void 0===e?void 0:e.tomorrowTasks,openModal:function(e){return v(e,"tomorrow")},showCounter:!0,droppableId:"tomorrow",emptyMessage:"You're all set for tomorrow."}),(0,i.jsx)(_,{headline:"Upcoming",data:null===e||void 0===e?void 0:e.upcomingTasks,openModal:function(e){return v(e,"upcoming")},showCounter:!1,droppableId:"upcoming",emptyMessage:"Plan ahead by adding upcoming work."})]})})})]})}}},function(e){e.O(0,[630,28,791,774,888,179],(function(){return t=8312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);