(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6],{1173:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reset-password",function(){return n(6866)}])},6866:function(e,t,n){"use strict";n.r(t);var s=n(7568),r=n(2670),a=n(655),o=n(5893),i=n(1163),c=n(7294),u=n(7498),l=n(3297);t.default=function(){var e=(0,i.useRouter)(),t=(0,c.useState)(null),n=t[0],d=t[1],m=(0,c.useState)(""),f=m[0],p=m[1],x=(0,c.useState)(""),h=x[0],b=x[1],w=(0,c.useState)(!1),g=w[0],y=w[1],v=(0,c.useState)(null),N=v[0],j=v[1],_=(0,c.useState)(null),k=_[0],z=_[1],C=(0,c.useMemo)((function(){return"string"===typeof n&&n.length>0}),[n]);(0,c.useEffect)((function(){var t=e.query.access_token;"string"===typeof t&&d(t)}),[e.query.access_token]);var E=function(){var t=(0,s.Z)((function(t){var s,o,i,c;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:if(t.preventDefault(),!f||!h)return j("Please enter and confirm your new password."),[2];if(f!==h)return j("Passwords do not match."),[2];if(!C||!n)return j("Reset link is invalid or has expired. Request a new one from the login page."),[2];y(!0),j(null),z(null),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,u._m.auth.api.updateUser(n,{password:f})];case 2:return s=a.sent(),(o=s.error)?j(o.message):(z("Password updated. Redirecting to login..."),setTimeout((function(){e.push("/login").catch((function(){j("We couldn't redirect you to the login page.")}))}),1500)),[3,5];case 3:return i=a.sent(),c=(0,r.Z)(i,Error)?i.message:"Unable to update the password.",j(c),[3,5];case 4:return y(!1),[7];case 5:return[2]}}))}));return function(e){return t.apply(this,arguments)}}();return(0,o.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-zinc-900",children:(0,o.jsxs)("div",{className:"w-full max-w-3xl rounded-2xl border border-zinc-800 bg-zinc-800/60 px-6 py-10 shadow-xl backdrop-blur md:px-12",children:[(0,o.jsx)("div",{className:"flex justify-center",children:(0,o.jsx)(l.Oc,{})}),(0,o.jsxs)("div",{className:"mt-10",children:[(0,o.jsx)("h1",{className:"text-2xl font-semibold text-zinc-50",children:"Reset password"}),N?(0,o.jsx)("p",{className:"mt-4 text-sm text-red-400",children:N}):null,k&&!N?(0,o.jsx)("p",{className:"mt-4 text-sm text-emerald-400",children:k}):null,C?null:(0,o.jsx)("p",{className:"mt-4 text-sm text-zinc-400",children:"Provide a new password once you arrive here via the reset link."}),(0,o.jsx)("label",{className:"mt-6 block text-sm font-medium text-zinc-200",htmlFor:"password",children:"New password"}),(0,o.jsx)("input",{id:"password",onChange:function(e){p(e.target.value)},className:"mt-2 w-full rounded-md border border-zinc-700 bg-zinc-900 px-4 py-3 text-zinc-100 focus:border-cyan-500 focus:outline-none focus:ring-1 focus:ring-cyan-500",type:"password",value:f,required:!0,disabled:g}),(0,o.jsx)("label",{className:"mt-6 block text-sm font-medium text-zinc-200",htmlFor:"password-confirm",children:"Confirm password"}),(0,o.jsx)("input",{id:"password-confirm",onChange:function(e){b(e.target.value)},className:"mt-2 w-full rounded-md border border-zinc-700 bg-zinc-900 px-4 py-3 text-zinc-100 focus:border-cyan-500 focus:outline-none focus:ring-1 focus:ring-cyan-500",type:"password",value:h,required:!0,disabled:g}),(0,o.jsx)("button",{className:"mt-8 w-full rounded-lg bg-cyan-600 py-3 text-sm font-semibold text-white transition hover:bg-cyan-500 disabled:cursor-not-allowed disabled:opacity-60",onClick:E,disabled:g,type:"button",children:"Save password"}),(0,o.jsx)("button",{className:"mt-6 text-sm text-cyan-300 underline transition hover:text-cyan-200",onClick:function(){e.push("/login").catch((function(){j("We couldn't redirect you to the login page.")}))},type:"button",children:"Back to login"})]})]})})}}},function(e){e.O(0,[297,774,888,179],(function(){return t=1173,e(e.s=t);var t}));var t=e.O();_N_E=t}]);