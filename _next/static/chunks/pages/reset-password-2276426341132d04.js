(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6],{4688:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reset-password",function(){return n(3700)}])},3700:function(e,t,n){"use strict";n.r(t);var s=n(7568),r=n(655),a=n(5893),i=n(1163),c=n(7294),u=n(9764),l=n(1791);t.default=function(){var e=(0,i.useRouter)(),t=(0,c.useState)(null),n=t[0],o=t[1],d=(0,c.useState)(""),m=d[0],f=d[1],x=(0,c.useState)(""),h=x[0],p=x[1],w=(0,c.useState)(!1),g=w[0],b=w[1],v=(0,c.useState)(null),N=v[0],j=v[1],_=(0,c.useState)(null),y=_[0],k=_[1],z=(0,c.useMemo)((function(){return"string"===typeof n&&n.length>0}),[n]);(0,c.useEffect)((function(){"string"===typeof e.query.access_token&&o(e.query.access_token)}),[e.query.access_token]);var P=function(){var t=(0,s.Z)((function(t){var s,a;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:if(t.preventDefault(),!m||!h)return j("Please enter and confirm your new password."),[2];if(m!==h)return j("Passwords do not match."),[2];if(!z)return j("Reset link is invalid or has expired. Request a new one from the login page."),[2];b(!0),j(null),k(null),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,u._m.auth.api.updateUser(n,{password:m})];case 2:return(s=r.sent().error)?j(s.message):(k("Password updated. Redirecting to login..."),setTimeout((function(){e.push("/login")}),1500)),[3,5];case 3:return a=r.sent(),j(a.message),[3,5];case 4:return b(!1),[7];case 5:return[2]}}))}));return function(e){return t.apply(this,arguments)}}();return(0,a.jsx)("div",{className:" bg-zinc-900 flex flex-1 h-screen items-center",children:(0,a.jsxs)("div",{className:"bg-zinc-800 h-3/4 md:w-3/5 w-full container rounded-lg",children:[(0,a.jsx)("div",{className:"container flex justify-center items-center mt-12",children:(0,a.jsx)(l.rq,{})}),(0,a.jsxs)("div",{className:"container flex flex-col justify-center items-center mt-12 md:w-2/6 w-3/4",children:[(0,a.jsx)("h1",{className:"text-zinc-50 text-xl font-bold",children:"Reset Password"}),N&&(0,a.jsx)("p",{className:"text-red-400 text-sm mt-4 text-center",children:N}),y&&!N&&(0,a.jsx)("p",{className:"text-emerald-400 text-sm mt-4 text-center",children:y}),!z&&(0,a.jsx)("p",{className:"text-zinc-400 text-sm mt-4 text-center",children:"Provide a new password once you arrive here via the reset link."}),(0,a.jsx)("h1",{className:"text-zinc-50 mt-4 self-start mb-2 font-medium text-sm",children:"New Password"}),(0,a.jsx)("input",{onChange:function(e){return f(e.target.value)},className:"border-zinc-100 border bg-transparent rounded-md h-12 w-full px-4 text-zinc-50",type:"password",value:m,required:"",disabled:g}),(0,a.jsx)("h1",{className:"text-zinc-50 mt-4 self-start mb-2 font-medium text-sm",children:"Confirm Password"}),(0,a.jsx)("input",{onChange:function(e){return p(e.target.value)},className:"border-zinc-100 border bg-transparent rounded-md h-12 w-full px-4 text-zinc-50",type:"password",value:h,required:"",disabled:g}),(0,a.jsx)("button",{className:" bg-cyan-600 mt-8 w-full h-12 rounded-lg",onClick:P,disabled:g,children:(0,a.jsx)("h1",{className:"text-zinc-50 text-sm font-light",children:"Save Password"})}),(0,a.jsx)("button",{className:"mt-6 text-zinc-50 text-sm underline",onClick:function(){return e.push("/login")},type:"button",children:"Back to Login"})]})]})})}}},function(e){e.O(0,[791,774,888,179],(function(){return t=4688,e(e.s=t);var t}));var t=e.O();_N_E=t}]);